
## **مقدمه**

از  دیگر بخش‌هایی که در توریست پنل برای کاربران فراهم شده است، **مدیریت تفریحات** می‌باشد که متشکل از دو بخش **مدیریت برنامه مرجع** و **مدیریت سانس** است. در این قسمت ابتدا به بیان اهداف، عملیات، نقش ها و سپس شرح جزئی عملیات پرداخته می‌شود. همچنین نمودار این فرآیندها قرار داده شده است.

## **اهداف**

- مدیریت سانس
- ایجاد سانس جدید
- قابلیت تغییر در جزئیات برنامه ها
- مشاهده سانس های ایجاد شده

## **عملیات**

- ایجاد سانس جدید
- راهنمای کاربری
- ذخیره تنظیمات فیلترها
- جستجوی سانس های فعال در بازه زمانی
- نمایش سانس های ایجاد شده به صورت سطری و ستونی

## **نقش**

- تأمین کنندگان

## **شرح جزئی عملیات:**

همان‌طورکه بیان شد، در بخش **مدیریت تفریحات، مدیریت سانس**، فعالیت های اصلی ای نظیر ایجاد سانس، ذخیره تنظیمات فیلترها، مشاهده و ویرایش سانس های ایجاد شده و ... وجود دارد. در تمامی این فرآیندها، بازیگر اصلی آن، کاربر **تأمین کننده** می‌باشد. تأمین کنندگان برنامه‌های تفریحی به منظور نمایش و فروش برنامه های خود به آژانس‌ها، لازم است در ابتدا برنامه مورد نظر را  تعریف و ایجاد نمایند که این بخش از طریق **(مدیریت برنامه مرجع)** انجام می شود. سپس لازم است برای برنامه ایجاد شده، سانس فعال تعریف شود تا قابلیت نمایش آن برای سایر آژانس ها فعال شود. برای تعریف سانس باید از بخش (**مدیریت سانس**) اقدام کرد که در ادامه به توضیح هربخش  پرداخته می‌شود.


## **مدیریت سانس**

بخش مدیریت تفریحات وابسته به مدیریت سانس است و تا زمانی که یک سانس فعال برای برنامه‌ها وجود نداشته باشد امکان فروش و مشاهده آن وجود ندارد. به همین دلیل لازم است پس از ایجاد برنامه تفریحی، نسبت به تعریف سانس فعال برای آن اقدام کرد باشد. به هنگام اولین ورود به این بخش، تنها دکمه‌های **راهنمای کاربری،** **ایجاد سانس، ذخیره تنظیمات فیلترها، باکس جستجوی سانس و نمایش سطری و ستونی سانس های فعال** هستیم**.**  در ادامه به توضیح هریک از این موارد پرداخته می شود.  

**راهنمای کاربری:** با کلیک بر روی این دکمه، کاربر به بخشی هدایت می‌شود که شامل راهنمای بصری به منظور استفاده از امکانات پنل است. و نحوه استفاده از هر بخش، برای کاربران توضیح داده شده. 

## **ایجاد سانس**

هنگامی که بر روی دکمه ایجاد سانس کلیک می کنیم، در اولین گام، لازم است (**برنامه مرجع**) انتخاب شود. در پنجره ای که برای کاربر باز می‌شود، اسامی تمامی برنامه‌های مرجع از پیش تعریف شده برای کاربر نمایش داده می شود و کاربر برنامه مورد نظر خود را انتخاب می کند. پس از انتخاب برنامه مرجع، کاربر یه صفحه ای انتقال داده می شود که در این صفحه پنجره ایجاد سانس به همراه تقویم نمایش داده می شود. 

در مرحله دوم، با کلیک بر روی دکمه (+)، دراپ داونی باز می شود که اطلاعات ذیل نمایش داده می شود و کاربر باید این اطلاعات را تعریف نماید:

- پیکربندی تاریخ و زمان
- پیکربندی گروه کمیسیون و بلیط ها
- پیکربندی ظرفیت
- پیکربندی چارتری تأمین کنندگان
- پیکربندی سهمیه آژانس
- پیکربندی فیلتر آژانس ها
- پیش نمایش سانس های تعریف شده در تقویم

هریک از این بخش ها دارای هدف و عملیات خاصی است که به شرح عملیات جزئی هریک پرداخته می شود. 

**پیکربندی تاریخ و زمان:** در وهله اول باید، (**قالب سانس**)** انتخاب شود تا اطلاعات مربوط به سانس ایجاد شده در برنامه مرجع مربوطه را نمایش دهد. اطلاعات مربوط به شروع و پایان سانس و ساعت پایان رزرو سانس با انتخاب قالب سانس به صورت پیش فرض تکمیل می شود. 

در مرحله دوم  باید از تقویم روبه روی قالب سانس، بازه زمانی و روزهای هفته فعال برای اجرای سانس، انتخاب شود. 

در مرحله سوم، درج اطلاعات مربوط به کسر روز از تاریخ پایان رزرو است که تعداد آن از تاریخ پایان رزرو هر سانس کسر می شود. 

**پیکربندی گروه کمیسیون ها و بلیط:**  در این قسمت باید از گروه های کمیسیونی که برای برنامه مرجع موردنظر تعریف کرده‌ایم، انتخاب کنیم. در واقع باید انتخاب شود کدام گروه کمیسیونی برای این سانس باید اعمال شود. 

**فروش رفته و رزرو موقت:** بابت هر نوع بلیطی که تعریف شده است دو حالت **فروش رفته و رزرو موقت** وجود دارد. هنگامی که یک آژانس بلیط را در حالت رزرو نگه می دارد، تا زمانی که خرید نهایی نشود، وضعیت این رزرو، **رزرو موقت**  می باشد. اما در صورتی که بلیط ها به فروش رفته باشند و خرید آنها نهایی باشند، وضعیت این نوع بلیط ها، **فروش رفته** می باشد. و تأمین کنندگان از این بخش می توانند تعداد بلیط های فروش رفته یا رزرو موقت خود را مشاهده نمایند. 

**فعال/ غیرفعال:**  در صورتی که تأمین کننده بخواهد برنامه مرجع خود را برای سانس مشخصی غیرفعال کند تا هیچ آژانسی برنامه موردنظر را مشاهده ننماید، می تواند با انتخاب فیلتر غیرفعال، برنامه را از دید کاربران پنهان کند و نمایش داده نشود. 

**پیکربندی ظرفیت:** بخش پیکربندی ظرفیت متشکل از دو بخش (**ظرفیت کل برنامه**) و (**حداکثر ظرفیت نمایشی**) است. که در بخش ظرفیت کل برنامه**،** تعداد کل بلیط هایی که در بخش اطلاعات ظرفیت برنامه مرجع وارد کردیم، نمایش داده می شود. به عنوان مثال اگر برای برنامه N ما تعداد کل بلیط ها را 50 عدد تعریف کرده باشیم در این قسمت همان 50 را نمایش می دهد. 

منظور از حداکثر ظرفیت نمایشی، ظرفیتی است که آژانس ها در پنل خود مشاهده می کنند و در صورتی که مقداری در این قسمت وارد نشود، همان ظرفیت کل نمایش داده می شود. 

**پیکربندی چارتری تأمین کنندگان:** براساس فیلد چارتری تأمین کنندگان در برنامه مرجع تعریف شده، در این قسمت اطلاعات مربوط به انتخاب چارتری تأمین کننده به کاربر نمایش داده می شود. اگر کاربر به هنگام تعریف برنامه مرجع خود، چارتر تأمین کننده را از میان تأمین کنندگان انتخاب کرده باشد در این بخش نمایش می دهد. 

ویرایش چارتر تأمین کننده: در این بخش پس از انتخاب تأمین کننده، در صورتی که بر روی آیکن (مداد) کلیک نمایید، می توان اطلاعات مربوط به تأمین کننده را ویرایش کرد. به عنوان مثال تعداد بلیط ها را افزایش یا کاهش داد. همچنین امکان حذف تأمین کننده نیز وجود دارد. 

**پیکربندی سهمیه آژانس:** لیست سهمیه آژانس های تعریف شده برای کاربر نمایش داده می شود. در واقع آژانس هایی که به هنگام تعریف برنامه مرجع، سهمیه مشخصی از تعداد بلیط ها برایشان تعریف شده است را در این قسمت مجدد کاربر مشاهده می نماید. 

**پیکربندی فیلتر آژانس:** فیلتر آژانس ها شامل دو بخش (**عمومی و خصوصی**) هستند. در صورتی که کاربر فیلتر عمومی را انتخاب نماید، آژانس هایی که در لیست وجود دارند، امکان مشاهده برنامه تعریف شده را ندارند. به عنوان مثال تأمین کننده Z برنامه مرجعی را تعریف کرده است و می خواهد این برنامه برای تعدادی از آژانس‌ها نمایش داده نشود. می تواند با انتخاب فیلتر عمومی و درج نام آژانس ها در باکس زیر، قابلیت مشاهده برنامه را از این آژانس ها سلب نماید. 

اما هنگامی که فیلتر خصوصی انتخاب شود، می توان مشخص کرد چه آژانس‌هایی برنامه ایجاد شده را مشاهده نمایند. 

پس از درج تمامی اطلاعات خواسته شده در فیلدهای پیشین، دکمه ذخیره اطلاعات در گوشه سمت چپ صفحه به کاربر نمایش داده می شود. به منظور حفظ و ذخیره سازی اطلاعات درج شده و مربوط به سانس، کاربران باید این دکمه را انتخاب نمایند. پس از کلیک بر روی دکمه ذخیره، روزهای تعریف شده‌ی سانس بر روی تقویم نمایش داده می شود و همچنین گزینه (**ذخیره تمامی سانس‌های موقت**) به حالت فعال درآمده است. 

نکته: اگر کاربران، دکمه ذخیره تمامی سانس های موقت را انتخاب ننمایند، هیچ سانس فعالی وجود نخواهد داشت. 

**حذف تمامی سانس‌های موقت:** با اننتخاب و کلیک بر روی این دکمه، تمامی سانس های فعال موقت حذف می شوند. 

**نکته:** در صورتی که سانس‌ موقتی توسط کاربر تعریف شود، وقتی بر روی دکمه ذخیره کلیک می کند، در تقویم پایین صفحه، برای روزهای سانس شاهد نمایش عدد و دایره زرد رنگ هستیم. که این عدد، نشان دهنده تعداد سانس‌ تعریف شده برای آن روز است و با افزودن هر تعداد سانس این عدد بیشتر می شود.  به عنوان مثال برای تاریخ 28 به 31 شهریور، سانس Z را تعریف کردیم پس از طی نمودن تمامی مراحل بالا و درج اطلاعات لازم، وقتی بر روی دکمه ذخیره کلیک کردیم، در تقویم برای روزهای 28-31 شهریور، عدد 1 نمایش داده شد. سپس برای همین تاریخ یک سانس دیگر را تعریف کردیم. با تعریف سانس دوم این عدد از 1 به 2 تغییر یافت که به معنی وجود 2 سانس فعال برای این روز است. 

**نکته:** در تقویم نمایشی سانس های موقت هنگامی که سانس موقت ایجاد می شود، در پایین هر روز یک دایره **زردرنگ** به کاربر نمایش داده می شود که به نشان دهنده وجود سانس موقت است، اما هنگامی که سانس موقت ذخیره می شود این دایره با رنگ **قرمز**  نمایش داده می شود بدین معنی که تمامی سانس های موقت ذخیره شده اند. 

**ذخیره تنظیمات فیلترها:**  

با انتخاب این بخش، تنظیماتی که در بخش فیلترها اعمال شده است، ذخیره شود. اما درحال حاضر با اعمال تغییرات در تنظیمات فیلترها، چیزی ذخیره نمی شود. 

**جستجوی سانس‌های تعریف شده:**  می توان سانس‌های تعریف شده برای برنامه های مرجع مختلف را  براساس موارد ذیل می توان فیلتر و مشاهده کرد. این موارد عبارتند از: 

- انتخاب بازه زمانی 
- درج تاریخ
- نام برنامه مرجع

**انتخاب بازه زمانی:**  قابلیت فیلتر سانس ها براساس بازه‌های زمانی مختلف مانند روز (قبلی، جاری، بعدی)، هفته( قبلی، جاری، بعدی) و ماه(قبلی، جاری و بعدی) و ده روز آینده وجود دارد. 

**درج تاریخ:** در این قسمت می توان بر روی تقویم نمایش داده شده، نسبت به انتخاب بازه زمانی مشخصی اقدام کرد تا سانس های تعریف شده برای آژانس ها در بازه های زمانی مشخص نمایش داده شود. 

**برنامه مرجع:**  از این بخش می توان، براساس برنامه های مرجع تعریف شده، سانس های فعال را مشاهده کرد. به عنوان مثال اگر برنامه مرجع Z  را انتخاب کنیم، تمامی سانس های فعال و مربوط به این برنامه را نمایش می دهد.

**نحوه نمایش سانس‌های تعریف شده (سطری و ستونی):** در بخش ایجاد سانس، برای نمایش سانس‌های تعریف شده، همانند سایر بخش ها، نظیر مدیریت پنل، قابلیت انتخاب نحوه نمایش سانس‌های فعال تعریف شده وجود دارد. امکان نمایش سانس‌ها به دو شکل (سطری و ستونی) وجود دارد. اطلاعات نمایش داده شده در هر دو مدل یکسان است. همچنین کلیدهای عملیاتی (غیرفعال) و (عملیات) برای کاربران نمایش داده می شود که به شرح جزئی عملیات در ادامه پرداخته می‌شود:

**اطلاعات نمایش داده شده از سانس‌ها:**

- عنوان برنامه
- لیبل سانس
- وضعیت
- تاریخ شروع اجرا
- تاریخ پایان اجرا
- تاریخ پایان رزرو
- نمایش اطلاعات بلیط های فروش رفته/ باقی مانده
- نمایش اطلاعات تعداد درخواست‌های کنسلی/ کنسل شده
- نمایش تعداد رزروهای موقت
- نمایش تعداد سهمیه
- نمایش تعداد چارتری
- نمایش تعداد باطل شده ها

**دکمه های عملیاتی**

- **غیرفعال:** در صورتی که بر روی دکمه غیرفعال کلیک شود، وضعیت سانس از حالت غیرفعال به فعال تغییر می کند. همچنین در بخش اطلاعات سانس، وضعیت، مشاهده می کنیم، که وضعیت (ویرایش) حذف شده است و به جای آن وضعیت فعال نمایش داده می شود. 
- **عملیات:** دکمه عملیات دارای چندین زیرمجموعه است. در واقع از طریق دکمه عملیات امکان دسترسی راحت به مواردی نظیر ویرایش، فیلتر آژانس ها و ابطال وجود دارد. 
- **ویرایش:** از طریق ویرایش می توان نسبت به تغییر اطلاعات برنامه پایه، تعداد بلیط های برنامه، فعال/غیرفعال کردن برنامه مرجع برای برخی از آژانس ها، سهمیه آژانس ها و چارترکنندگان را ویرایش کرد. پس از اعمال تغییرات، باید بر روی دکمه بروزرسانی کلیک کرد تا اطلاعات مربوطه ذخیره شوند. 

**ابطال:** قابلیت ابطال به صورت گروهی و تکی وجود دارد.**  

در تصویر ذیل، فرآیند ایجاد سانس آورده شده است. 

![](create-new-entertainment-eventsans-flowchart.png)

نمودار فرآیند ایجاد سانس


لینک مشاهده فرآیند در Draw-io


